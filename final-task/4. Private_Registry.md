
```
TASK

Requirements

Docker Registry Private
Instructions

[ Docker Registry ]

Deploy Docker Registry Private on this server
Push your image into Your Own Docker Registry
reverse proxy for docker registry was registry.{your_name}.studentdumbways.my.id
```

# Konfigurasi Docker Compose Registry & Registry UI

```yaml
services:
  registry:
    image: registry:2
    ports:
      - "5000:5000"
    environment:
      REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY: /var/lib/registry
    volumes:
      - ./data:/var/lib/registry
    restart: always

  registry-ui:
    image: joxit/docker-registry-ui:latest
    ports:
      - "8080:80"
    environment:
      - REGISTRY_TITLE=Private Reyhan Alvaro Docker Registry
      - SHOW_CONTENT_DIGEST=true
      - SHOW_CATALOG_NB_TAGS=true
      - CATALOG_MIN_BRANCHES=1
      - CATALOG_MAX_BRANCHES=1
      - TAGLIST_PAGE_SIZE=100
      - CATALOG_ELEMENTS_LIMIT=1000
      - DELETE_IMAGES=true
      - ENABLE_DELETE_IMAGES_CONFIRMATION=true
      - ENABLE_TAG_REMOVAL=true
      - REGISTRY_HEALTH_CHECK_URL=http://registry:5000/v2/
    restart: always
    depends_on:
      - registry
    links:
      - registry
```

![image](https://github.com/user-attachments/assets/bfd5e8e7-20f9-4bf9-b5f1-aa0481838f6d)

Docker Container sudah berjalan

![image](https://github.com/user-attachments/assets/3da28912-87d9-4051-a657-fefa8d566d85)

![image](https://github.com/user-attachments/assets/32f6f628-d1e8-4d91-9b7b-aafb035525f2)

Jangan lupa Reverse Proxy dan Install SSL untuk domain kita

```nginx
    #Docker Registry
    server {
        listen 443 ssl;
        server_name registry.alvaro.studentdumbways.my.id;

        ssl_certificate /etc/letsencrypt/live/alvaro.studentdumbways.my.id/fullchain.pem;
        ssl_certificate_key /etc/letsencrypt/live/alvaro.studentdumbways.my.id/privkey.pem;

        client_max_body_size 500M;

        location /v2/ {
            proxy_pass http://13.229.167.179:5000;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }

        location / {
            proxy_pass http://13.229.167.179:8080;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
```

---

Registry UI

![image](https://github.com/user-attachments/assets/795da1b9-2b94-4f9a-8db3-d79d29ec81c3)
